{% load widget_tweaks %}

{% if page.has_other_pages %}


<ul class="pagination my-5">
    {% if page.has_previous %}      
        <li class="page-item"><a class="page-link" href="?page={{ page.previous_page_number }}">Previous</a></li>         
      
    {% else %}
      <li class="page-item disabled"><a class="page-link" href="#"><i class="fa fa-arrow-left"></i>
      </a></li>
    {% endif %}


    {% for i in page.paginator.page_range %}
      {% if page.number == i %}
        <li class="page-item active"><a class="page-link" href="#">{{i}}</a></li>
      {% elif i > page.number|add:'-3' and i < page.number|add:'3' %}
        <li class="page-item"><a class="page-link" href="?page={{ i }}{% if request.GET.qd %}&qd={{ request.GET.qd }}{% endif %}{% if request.GET.qup %}&qup={{ request.GET.qup }}{% endif %}{% if request.GET.qun %}&qun={{ request.GET.qun }}{% endif %}{% if request.GET.qm %}&qm={{ request.GET.qm }}{% endif %}">{{ i }}</a></li>
      {% endif %}
    {% endfor %}


    {% if page.has_next %}
      <li class="page-item"><a class="page-link" href="?page={{ page.next_page_number }}"><i class="fa fa-arrow-right"></i></a></li>
    {% else %}
       <li class="page-item disabled"><a class="page-link" href="#">Next</a></li>
    {% endif %}
  </ul>
{% endif %}
